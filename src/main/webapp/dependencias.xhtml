<?xml version='1.0' encoding='UTF-8' ?>
<!--

    Copyright (c) 2018, 2021 Oracle and/or its affiliates. All rights reserved.

    This program and the accompanying materials are made available under the
    terms of the Eclipse Distribution License v. 1.0, which is available at
    http://www.eclipse.org/org/documents/edl-v10.php.

    SPDX-License-Identifier: BSD-3-Clause

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core" 
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      			xmlns:jsf="http://xmlns.jcp.org/jsf"
                template="./templates/mainTemplate.xhtml">
	
	<ui:define name="title">#{bundle.dependencias}</ui:define>
	<ui:define name="main">
		<h:form id="dependenciaForm">
            <h1>#{bundle.dependencias}</h1>
            
            <h2>#{bundle.registroDependencias}</h2>
            <p>
	            <label for="nombre">#{bundle.dependenciaNombre}:</label>
	            <h:inputText id="nombre" value="#{dependenciaBean.nombre}" 
	            	required="true" requiredMessage="#{bundle.dependenciaNombreReq}" />
	            <h:message styleClass="error-message" for="nombre"/>
            </p>
            <p>
	            <label for="clave">#{bundle.dependenciaClave}:</label>
	            <h:inputText id="clave" value="#{dependenciaBean.clave}" 
	            	required="true" requiredMessage="#{bundle.dependenciaClaveReq}" />
	            <h:message styleClass="error-message" for="clave"/>
            </p>
            <p>
	            <label for="siglas">#{bundle.dependenciaSiglas}:</label>
	            <h:inputText id="siglas" value="#{dependenciaBean.siglas}" 
	            	required="true" requiredMessage="#{bundle.dependenciaSiglasReq}" />
	            <h:message styleClass="error-message" for="siglas"/>
            </p>
            
            <p>
            	<h:commandButton id="agregarDependencia"  styleClass="btn-submit" value="#{bundle.registrar}" >
            		<f:ajax execute="@all" listener="#{dependenciaBean.agregarDependenciaAjax}" render="dependencias dependenciaForm"  />
            	</h:commandButton>
            </p>
        </h:form>
        
        <h2>#{bundle.dependenciasRegistradas}</h2>
        <h:dataTable id="dependencias" class="tabla-listado"
                         value="#{dependenciaBean.dependencias}"
                         var="dependencia"
                         summary="#{bundle.dependenciasRegistrados}" >

                <h:column>
                    <f:facet name="header">
                        #{bundle.dependenciaNombre}
                    </f:facet>
                    <h:outputText value="#{dependencia.nombre}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        #{bundle.dependenciaClave}
                    </f:facet>
                    <h:outputText value="#{dependencia.clave}"/>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        #{bundle.dependenciaSiglas}
                    </f:facet>
                    <h:outputText value="#{dependencia.siglas}"/>
                </h:column>
                
                
            </h:dataTable>
        	<h:form>
        		<h:commandLink id="inicio" styleClass="nav-link" value="#{bundle.inicio}" action="index" />	
			</h:form>
	</ui:define>    
</ui:composition>